function init(){if(console.log("my_token"+my_token),""!==my_token&&RequestAJAX(server_uri,"GET","profile",my_token,"","",function(e){e&&(console.log("profile="+e.messages),e.ok||"#pages__sms"===lasturl?(my_phone=e.profile.phone,my_name=e.profile.name,my_city=e.profile.city,my_avatar=e.profile.photo,document.querySelectorAll(".jq_my_name").length&&(document.querySelector(".jq_my_name").innerHTML=my_name,document.querySelector(".jq_my_phone").innerHTML=my_phone,my_avatar||(my_avatar=default_avatar),document.querySelector(".menu__desc_avatar").src=my_avatar)):(is_auth=!1,my_token="",localStorage.removeItem("_is_auth"),localStorage.removeItem("_my_token")))}),document.querySelectorAll('[data-id="driver_city_orders"]').length&&RequestAJAX(server_uri,"GET","orders",my_token,"&isIntercity=0&fromCity="+my_city,"",function(e){function t(e,t){var r=document.createElement(e);r.innerHTML=t,o.appendChild(r)}if(e&&e.ok){console.log("Ok?: "+e.ok+", orders="+e.orders),console.log("Messages: "+e.messages);for(var o=document.querySelector(".list-orders"),r=0;r<e.orders.length;r++)t("LI",'<div class="list-orders_personal"><img src="'+e.orders[r].agent.photo+'" alt="" /><br/>'+e.orders[r].agent.name+"<br/>"+datetimeForPeople(e.orders[r].created)+'</div><div class="list-orders_route"><div class="list-orders_route_from">'+e.orders[r].fromAddress+'</div><div class="list-orders_route_to">'+e.orders[r].toAddress0+'</div><div class="list-orders_route_info"><span>'+e.orders[r].price+' руб.</span> <i class="icon-direction-outline"></i>? км</div><div class="list-orders_route_additional">'+e.orders[r].comment+"</div></div>");e.orders.length<1&&t("DIV",'<div class="list-orders_norecords">Нет заказов</div>')}}),document.querySelectorAll('[data-controller="taxy_client_intercity_myorders"]').length&&RequestAJAX(server_uri,"GET","orders",my_token,"&isIntercity=1&my=1","",function(e){function t(e,t){var r=document.createElement(e);r.classList.add("myorders__item"),r.innerHTML=t,o.appendChild(r)}if(e&&e.ok){console.log("Ok?: "+e.ok+", orders="+e.orders),console.log("Messages: "+e.messages);for(var o=document.querySelector(".myorders"),r=0;r<e.orders.length;r++)t("LI",'<div><p class="myorders__item__time">'+datetimeForPeople(e.orders[r].created)+'</p><p class="myorders__item__from">'+e.orders[r].fromCity+'</p><p class="myorders__item__to">'+e.orders[r].toCity0+'</p><p class="myorders__item__summa">'+e.orders[r].price+'</p><p class="myorders__item__info">'+e.orders[r].comment+'</p></div><div class="myorders__item__menu"><i data-click="myorders_item_menu" class="icon-ellipsis-vert"></i><span><a href="#" data-id="'+e.orders[r].id+'" data-click="myorders_item_menu_delete" onclick="return false;">Удалить</a></span></div>');e.orders.length<1&&t("DIV",'<div class="list-orders_norecords">Нет заказов</div>')}}),document.querySelectorAll('[data-controller="taxy_driver_list_orders_intercity"]').length&&RequestAJAX(server_uri,"GET","orders",my_token,"&isIntercity=1","",function(e){function t(e,t){var r=document.createElement(e);r.innerHTML=t,o.appendChild(r)}if(e&&e.ok){console.log("Ok?: "+e.ok+", orders="+e.orders),console.log("Messages: "+e.messages);for(var o=document.querySelector('[data-controller="taxy_driver_list_orders_intercity"]'),r=0;r<e.orders.length;r++)t("LI",'<div class="list-extended__personal"><img src="'+e.orders[r].agent.photo+'" alt="" /></div><div class="list-extended__route"><div class="list-extended__route_name">'+e.orders[r].agent.name+'</div><div class="list-extended__route_time">'+datetimeForPeople(e.orders[r].created,"ONLY_TIME")+'</div><div class="list-extended__route_from">'+e.orders[r].fromCity+'</div><div class="list-extended__route_to">'+e.orders[r].toCity0+'</div><div class="list-extended__route_sum">'+e.orders[r].price+' руб.</div><div class="list-extended__route_info">'+e.orders[r].comment+"</div></div>");e.orders.length<1&&t("DIV",'<div class="list-orders_norecords">Нет заказов</div>')}}),document.querySelectorAll('[data-id="client_my_orders"]').length&&RequestAJAX(server_uri,"GET","orders",my_token,"&isIntercity=0&my=1","",function(e){function t(e,t){var r=document.createElement(e);r.classList.add("myorders__item"),r.innerHTML=t,o.appendChild(r)}if(e&&e.ok){console.log("Ok?: "+e.ok+", orders="+e.orders),console.log("Messages: "+e.messages);for(var o=document.querySelector(".myorders"),r=0;r<e.orders.length;r++)t("LI",'<div><p class="myorders__item__time">'+datetimeForPeople(e.orders[r].created)+'</p><p class="myorders__item__from">'+e.orders[r].fromAddress+'</p><p class="myorders__item__to">'+e.orders[r].toAddress0+'</p><p class="myorders__item__summa">'+e.orders[r].price+'</p><p class="myorders__item__info">'+e.orders[r].comment+'</p></div><div class="myorders__item__menu"><i data-click="myorders_item_menu" class="icon-ellipsis-vert"></i><span><a href="#" data-id="'+e.orders[r].id+'" data-click="myorders_item_menu_delete" onclick="return false;">Удалить</a></span></div>');e.orders.length<1&&t("DIV",'<div class="list-orders_norecords">Нет заказов</div>')}}),document.querySelectorAll(".form-edit-auto").length&&(RequestAJAX(server_uri,"GET","profile",my_token,"","",function(e){if(e&&e.ok){document.querySelector('input[name="color"]').value=e.profile.color,document.querySelector('input[name="number"]').value=e.profile.number,document.querySelector('input[name="model"]').value=e.profile.model,document.querySelector('input[name="tonnage"]').value=e.profile.tonnage;var t=document.querySelector('select[name="brand"] option[value="'+e.profile.brand+'"]');t.selected=!0}}),RequestAJAX(server_uri,"GET","auto",my_token,"","",function(e){if(e&&e.ok){var t=document.querySelector(e.auto.conditioner?'input[name="conditioner"][value="1"]':'input[name="conditioner"][value="0"]');t.checked=!0;var o=document.querySelector('select[name="type"] option[value="'+e.auto.type+'"]');o.selected=!0}})),document.querySelectorAll(".form-edit-profile").length&&RequestAJAX(server_uri,"GET","profile",my_token,"","",function(e){if(e&&e.ok){document.querySelector('input[name="myname"]').value=e.profile.name,document.querySelector('input[name="dob"]').value=dateFromBase(e.profile.birthday);var t=document.querySelector(e.profile.sex?'select[name="sex"] option[value="1"]':'select[name="sex"] option[value="0"]');t.attr("selected","true");var o=document.querySelector('select[name="city"] option[value="'+e.profile.city+'"]');o.selected=!0,document.querySelector(".avatar").src=my_avatar}}),document.querySelector(".content").style.height=window.innerHeight-outerHeight(document.querySelector(".header"))+"px",tabs=document.querySelectorAll(".tabs ul li"),tabs_content=document.querySelectorAll(".tabs_content"),tabs.length){new Hammer(document.querySelector(".tabs__wrapper"),{domEvents:!0});for(var e=tabs.length,t=0;e>t;t++)tabs[t].style.width=100/e-1+"%";document.querySelector(".tabs__viewport").style.width=e*window.innerWidth+"px",document.querySelector(".tabs__wrapper").style.height=window.innerHeight-outerHeight(document.querySelector(".header"))-outerHeight(document.querySelector(".tabs"))+"px";for(var t=0;t<tabs_content.length;t++)tabs_content[t].style.width=window.innerWidth+"px",tabs_content[t].addEventListener("swipeleft",function(){swipeTabs(1)}),tabs_content[t].addEventListener("swiperight",function(){swipeTabs(-1)})}document.querySelectorAll(".form-order-city").length&&(document.querySelector('input[name="from"]').value=localStorage.getItem("_address_from"),document.querySelector('input[name="to"]').value=localStorage.getItem("_address_to")),document.querySelectorAll("#map_canvas_choice").length&&initialize_choice(),document.querySelectorAll("#map_canvas").length&&initialize()}function geoFindMe(){function e(e){var t=e.coords.latitude,o=e.coords.longitude;my_position.x=t,my_position.y=o,geocoder=new google.maps.Geocoder;var r=new google.maps.LatLng(t,o);geocoder.geocode({latLng:r},function(e,t){if(t===google.maps.GeocoderStatus.OK){var o,r=e[0].address_components;for(o in r)"locality"===r[o].types[0]&&""!==my_city&&(my_city=r[o].long_name),"country"===r[o].types[0]&&(my_coutry=r[o].long_name)}})}function t(){alert("На вашем устройстве не разрешен доступ к местоположению.")}return navigator.geolocation?void navigator.geolocation.getCurrentPosition(e,t):void alert("К сожалению, геолокация не поддерживается в вашем браузере")}function swipeMenu(e){var t=document.querySelector(".menu"),o=e>0?"opened":"closed";t.classList.remove("menu--closed"),t.classList.remove("menu--opened"),t.classList.add("menu--"+o)}function swipeTabs(e){var t=document.querySelector(".tab--active").dataset.tab,o=parseInt(t)+parseInt(e);o<=tabs.length&&o>0&&changeTab(o)}function changeTab(e){step=window.innerWidth;for(var t=0;t<tabs_content.length;t++)tabs_content[t].style.left=step-step*e+"px";for(var t=0;t<tabs.length;t++)tabs[t].classList.remove("tab--active");document.querySelector('[data-tab="'+e+'"]').classList.add("tab--active")}function checkURL(e){sublasturl=lasturl,e||(e=window.location.hash?window.location.hash:"#client__city"),e!==lasturl&&(lasturl=e,loadPage(e))}function loadPage(e){e=e.replace("#","");var t=e.split("__");document.querySelector(".loading").style.visibility="visible";var o=new FormData;o.append("section",t[0]),o.append("page",t[1]),RequestAJAX("https://192.168.20.29","POST","routes.php","","",o,function(e){e&&(document.querySelector(".header__title").innerHTML=e.title,document.querySelector(".content").innerHTML=e.content,(t[0]!==lastsection||""===lastsection)&&(document.querySelector(".menu__response").innerHTML=e[0].menu),lastsection=t[0],document.querySelector(".loading").style.visibility="hidden",init())})}function initialize(){var e=new google.maps.LatLng(48.49,135.07),t=document.getElementById("map_canvas"),o={center:e,zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(t,o);var r=loadAddress(),n=loadWaypoints();directionsService=new google.maps.DirectionsService,directionsDisplay=new google.maps.DirectionsRenderer;var a={origin:r[0],destination:r[1],waypoints:n,travelMode:google.maps.DirectionsTravelMode.DRIVING};directionsService.route(a,function(e,t){t===google.maps.DirectionsStatus.OK&&(console.log(e.routes[0].legs[0].distance.text),directionsDisplay.setDirections(e))}),directionsDisplay.setMap(map)}function initialize_choice(){if(o=18,void 0===my_position.x||void 0===my_position.y)var e=48.4,t=135.07,o=12;else var e=my_position.x,t=my_position.y;var r=new google.maps.LatLng(e,t),n=document.getElementById("map_canvas_choice"),a={center:r,zoom:o,mapTypeId:google.maps.MapTypeId.ROADMAP};map_choice=new google.maps.Map(n,a),map_choice.getDiv().insertAdjacentHTML("beforeend",'<div class="centerMarker"></div>');var i=document.querySelectorAll(".centerMarker")[0];google.maps.event.addListener(map_choice,"drag",function(){var e=point2LatLng(i.offsetLeft,i.offsetTop,map_choice);localStorage.setItem("_choice_coords",e)})}function renderDirections(e,t){var o=new google.maps.DirectionsRenderer;o.setMap(map),t&&o.setOptions({polylineOptions:t}),o.setDirections(e)}function requestDirections(e,t,o){directionsService.route({origin:e,destination:t,travelMode:google.maps.DirectionsTravelMode.DRIVING},function(e){renderDirections(e,o)})}function getChar(e){return null===e.which?e.keyCode<32?null:String.fromCharCode(e.keyCode):0!==e.which?e.which<32?null:String.fromCharCode(e.which):null}function setTempRequestLS(e){return localStorage.setItem("_temp_request",e),!0}function getTempRequestLS(){var e=localStorage.getItem("_temp_request");return localStorage.removeItem("_temp_request"),e}function saveAddress(e,t){return localStorage.setItem("_address_from",e),localStorage.setItem("_address_to",t),!0}function loadAddress(){var e=my_city+","+localStorage.getItem("_address_from"),t=my_city+","+localStorage.getItem("_address_to");return[e,t]}function saveWaypoints(e,t,o){return localStorage.setItem("_address_to1",e),localStorage.setItem("_address_to2",t),localStorage.setItem("_address_to3",o),!0}function loadWaypoints(){var e=[],t=localStorage.getItem("_address_to1"),o=localStorage.getItem("_address_to2"),r=localStorage.getItem("_address_to3");return""!==t&&e.push({location:my_city+","+t,stopover:!0}),""!==o&&e.push({location:my_city+","+o,stopover:!0}),""!==r&&e.push({location:my_city+","+r,stopover:!0}),localStorage.removeItem("_address_to1"),localStorage.removeItem("_address_to2"),localStorage.removeItem("_address_to3"),e}function point2LatLng(e,t,o){var r=o.getProjection().fromLatLngToPoint(o.getBounds().getNorthEast()),n=o.getProjection().fromLatLngToPoint(o.getBounds().getSouthWest()),a=Math.pow(2,o.getZoom()),i=new google.maps.Point(e/a+n.x,t/a+r.y);return o.getProjection().fromPointToLatLng(i)}function getStreenFromGoogle(e){var t,o,r=e[0].address_components;for(t in r)"street_number"===r[t].types[0]&&(o=r[t].long_name),"route"===r[t].types[0]&&(o=r[t].long_name+","+o);return o}function searchCityForIntercity(e,t){for(var o,r=t.children[1].children,n=0;n<r.length;n++)o=r[n].children[1].children[3].innerHTML,r[n].style.display=o===e||""===e?"flex":"none"}function dateFromBase(e){return"0000-00-00"===e?e="":(e=e.split("-"),e=e[2]+"."+e[1]+"."+e[0]),e}function dateToBase(e){return e=e.split("."),e=e[2]+"-"+e[1]+"-"+e[0]}function outerHeight(e){var t=e.offsetHeight,o=getComputedStyle(e);return t+=parseInt(o.marginTop)+parseInt(o.marginBottom)}function datetimeForPeople(e,t){void 0===t&&(t="TIME_AND_TODAY"),e=e.split(" ");var o=new Date,r=new Date(o.getFullYear(),o.getMonth(),o.getDate()).valueOf(),n=e[0].valueOf();if(r-864e5>n){var a=e[0].split("-");today_text=a[2]+"."+a[1]+"."+a[0]}else today_text=r>n?"Вчера":"Сегодня";var a=e[1].split(":");return time_text=a[0]+":"+a[1],"ONLY_TIME"===t&&(e=time_text),"ONLY_TIME_IF_TODAY"===t&&(e="Сегодня"===today_text?time_text:today_text+", "+time_text),"TIME_AND_TODAY"===t&&(e=today_text+", "+time_text),e}function RequestAJAX(e,t,o,r,n,a,i){r=""===r?"":"?token="+r;var s=new XMLHttpRequest;s.open(t,e+"/"+o+r+n,!0),s.onload=function(){if(200===s.status){var e=JSON.parse(s.responseText);i(e)}},s.send(a)}var tabs_content,tabs,lasturl="",sublasturl="",lastsection="",map,map_choice,marker,geocoder,google,placeSearch,autocomplete,directionsService,my_position=["x","y"],server_uri="https://192.168.20.90",my_city,my_country,my_token,is_auth=!1,my_name,my_phone,my_avatar,default_avatar="images/no_avatar.png";document.addEventListener("DOMContentLoaded",function(){"true"===localStorage.getItem("_is_auth")&&(is_auth=!0),my_token=localStorage.getItem("_my_token"),geoFindMe();var e=document.querySelector(".menu");new Hammer(e,{domEvents:!0}),e.addEventListener("swipeleft",function(){swipeMenu(-1)}),e.addEventListener("click",function(e){for(var t=e.target;t!==this;){if("A"===t.tagName){for(var o=t.parentNode,r=o.parentNode.querySelectorAll("li"),n=0;n<r.length;n++)r[n].className=r[n].className.replace(/^menu__list--active$/,"");o.className+="menu__list--active",swipeMenu(-1)}if("edit_profile"===t.dataset.click)return swipeMenu(-1),void(document.location="#pages__edit_profile");t=t.parentNode}}),document.querySelector(".header__burger").addEventListener("click",function(){swipeMenu(1)});var t=document.querySelector(".content");t.addEventListener("click",function(e){for(var t=e.target;t!==this;){if(t.dataset.tab>0)return void changeTab(t.dataset.tab);if("choice_location"===t.dataset.click)return document.location="#client__choice_location_map",void setTempRequestLS(t.parentNode.querySelectorAll("input")[0].getAttribute("name"));if("field_add"===t.dataset.click){var o=document.querySelectorAll(".icon-record").length;if(3>o){var r=document.querySelector(".order-city-to"),n=document.createElement("div");n.className+="form-order-city__field order-city-from",n.innerHTML='<i class="icon-record form-order-city__label"></i><span class="form-order-city__wrap"><input type="text" name="to_plus'+(o+1)+'" value="" placeholder="Заезд"/></span><span data-click="field_delete" class="form-order-city__field_delete"><i class="icon-trash"></i></span>';var a=r.parentNode;a.insertBefore(n,r)}return}if("field_delete"===t.dataset.click){var i=t.parentNode;return void i.parentNode.removeChild(i)}if("clear_photo"===t.dataset.click)return void RequestAJAX(server_uri,"POST","clear-photo",my_token,"","",function(e){e&&e.ok&&(document.querySelector(".avatar").src=default_avatar)});if("i_choice_location"===t.dataset.click){document.location="#client__city";var s=getTempRequestLS();geocoder=new google.maps.Geocoder;var d=localStorage.getItem("_choice_coords");d=d.replace("(",""),d=d.replace(")",""),d=d.replace(" ",""),d=d.split(",");var c=new google.maps.LatLng(d[0],d[1]);return void geocoder.geocode({latLng:c},function(e,t){t===google.maps.GeocoderStatus.OK&&(localStorage.setItem("_address_"+s,getStreenFromGoogle(e)),document.querySelector('input[name="from"]').value=localStorage.getItem("_address_from"),document.querySelector('input[name="to"]').value=localStorage.getItem("_address_to"))})}if("myorders_item_menu"===t.dataset.click){var l=t.parentNode.children[1],u=l.style.display;return void(l.style.display="none"===u||""===u?"inline-block":"none")}if("myorders_item_menu_delete"===t.dataset.click)return void RequestAJAX(server_uri,"GET","delete-order",my_token,"&id="+t.dataset.id,"",function(e){if(e&&e.ok){var o=t.parentNode.parentNode.parentNode;o.style.display="none"}});t=t.parentNode}}),t.addEventListener("submit",function(e){for(var t=e.target;t!==this;){if("taxy-client-city"===t.dataset.submit){var o=document.querySelector(".adress_from").value,r=document.querySelector(".adress_to").value,n=document.querySelector('[name="cost"]').value,a=document.querySelector('[name="description"]').value,i="",s="",d="",c=new FormData;return saveAddress(o,r),document.querySelector('[name="to_plus1"]')&&(i=document.querySelector('[name="to_plus1"]').value,c.append("toAddress1",i)),document.querySelector('[name="to_plus2"]')&&(s=document.querySelector('[name="to_plus2"]').value,c.append("toAddress2",s)),document.querySelector('[name="to_plus3"]')&&(d=document.querySelector('[name="to_plus3"]').value,c.append("toAddress3",d)),saveWaypoints(i,s,d),c.append("fromCity",my_city),c.append("fromAddress",o),c.append("toCity0",my_city),c.append("toAddress0",r),c.append("isIntercity",0),c.append("price",n),c.append("comment",a),c.append("minibus",0),c.append("babyChair",0),void RequestAJAX(server_uri,"POST","order",my_token,"",c,function(e){e&&e.ok&&(console.log("id="+e.id),document.location="#client__map")})}if("form-auth"===t.dataset.submit){var l=document.querySelector('input[name="phone"]').value;return void RequestAJAX(server_uri,"POST","register","","?phone=7"+l,"",function(e){e&&e.ok&&(localStorage.setItem("_my_token",e.token),my_token=e.token,document.location="#pages__sms")})}if("form-auth-sms"===t.dataset.submit){var u=document.querySelector('input[name="sms"]').value;return void RequestAJAX(server_uri,"POST","confirm",my_token,"&smsCode="+u,"",function(e){e&&e.ok&&(localStorage.setItem("_is_auth","true"),document.location="/")})}if("form-edit-profile"===t.dataset.submit){var m=document.querySelector("input[name=ava_file]").files[0],c=new FormData;return c.append("photo",m,m.name),c.append("name",document.querySelector("input[name=myname]").value),c.append("birthday",dateToBase(document.querySelector("input[name=dob]").value)),c.append("city",document.querySelector("select[name=city]").value),c.append("sex",document.querySelector("select[name=sex]").value),void RequestAJAX(server_uri,"POST","profile",my_token,"",c,function(e){e&&e.ok&&(document.location="/")})}if("form-edit-auto"===t.dataset.submit){var p=document.querySelector('select[name="brand"]'),_=document.querySelector('select[name="type"]'),c=new FormData;c.append("color",document.querySelector('input[name="color"]').value),c.append("number",document.querySelector('input[name="number"]').value),c.append("model",document.querySelector('input[name="model"]').value),c.append("tonnage",document.querySelector('input[name="tonnage"]').value),c.append("brand",p.options[p.selectedIndex].text),RequestAJAX(server_uri,"POST","profile",my_token,"",c,function(){});var y=new FormData;return y.append("conditioner",document.querySelector('input[name="conditioner"]:checked').value),y.append("type",_.options[_.selectedIndex].text),void RequestAJAX(server_uri,"POST","auto",my_token,"",y,function(e){e&&e.ok&&(document.location="/")})}if("client_order_intercity"===t.dataset.submit){var v=document.querySelector('[name="city_from"]').value,g=document.querySelector('[name="city_to"]').value,o=document.querySelector('[name="adress_from"]').value,r=document.querySelector('[name="adress_to"]').value,n=document.querySelector('[name="cost"]').value,a=document.querySelector('[name="description"]').value,i="",s="",d="",c=new FormData;return saveAddress(o,r),document.querySelector('[name="to_plus1"]')&&(i=document.querySelector('[name="to_plus1"]').value,c.append("toAddress1",i)),document.querySelector('[name="to_plus2"]')&&(s=document.querySelector('[name="to_plus2"]').value,c.append("toAddress2",s)),document.querySelector('[name="to_plus3"]')&&(d=document.querySelector('[name="to_plus3"]').value,c.append("toAddress3",d)),saveWaypoints(i,s,d),c.append("fromCity",v),c.append("fromAddress",o),c.append("toCity0",g),c.append("toAddress0",r),c.append("isIntercity",1),c.append("price",n),c.append("comment",a),c.append("minibus",0),c.append("babyChair",0),void RequestAJAX(server_uri,"POST","order",my_token,"",c,function(e){e&&e.ok&&(console.log("id="+e.id),changeTab(3))})}t=t.parentNode}}),t.addEventListener("keypress",function(e){for(var t=e.target;t!==this;){if("input_only_digits"===t.dataset.keypress){if(e.ctrlKey||e.altKey||e.metaKey)return;var o=getChar(e);return void(("0">o||o>"9")&&e.preventDefault())}if("input_only_date"===t.dataset.keypress){var r=t.value;if(r.length>9&&e.preventDefault(),e.ctrlKey||e.altKey||e.metaKey)return;var o=getChar(e);(0===r.length&&o>"3"||(3===r.length||2===r.length)&&o>"1"||(5===r.length||4===r.length)&&o>"2")&&e.preventDefault(),(2===r.length||5===r.length)&&(t.value+="."),("0">o||o>"9")&&e.preventDefault()}t=t.parentNode}}),t.addEventListener("keyup",function(e){for(var t=e.target;t!==this;){if("filter_intercity_to"===t.dataset.keyup){var o=t.parentNode.parentNode.parentNode.dataset.tabcontent,r=document.querySelectorAll('[data-tabcontent="'+o+'"]')[0];return void searchCityForIntercity(t.value,r)}t=t.parentNode}}),window.addEventListener("resize",function(){init()}),checkURL(),setInterval("checkURL()",250),init()});